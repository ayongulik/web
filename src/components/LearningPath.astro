---
import { LEARNING_TRACKS } from "../config";
import LearningPathItems from "./LearningPathItems.astro";

const skills = [
  { id: 1, name: "Analisis Data", slug: "analisis-data" },
  { id: 2, name: "Web Development", slug: "web-dev" },
];

type Track = keyof typeof LEARNING_TRACKS;
const tracks = skills.map((skill) => skill.slug) as Track[];

const selectedSkill = skills[0].slug;
---

<div class="max-w-48 mx-auto mb-8">
  <select
    id="skill-select"
    class="bg-gray-50 border-2 border-gray-200 rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full p-2.5"
  >
    {
      skills.map((skill, index) => (
        <option selected={index === 0} value={skill.slug}>
          {skill.name}
        </option>
      ))
    }
  </select>
</div>

<div class="relative overflow-x-auto">
  <div
    class="max-w-screen-lg min-w-[1024px] mx-auto text-left text-md lg:text-lg"
  >
    <ol>
      {
        tracks.map((key) => (
          <div
            class:list={[{ hidden: selectedSkill != key }]}
            data-skill-courses={key}
          >
            <LearningPathItems data={LEARNING_TRACKS[key]} track={key} />
          </div>
        ))
      }
    </ol>
  </div>
</div>
